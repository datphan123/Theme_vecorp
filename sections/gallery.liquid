<style>
    .block-card{
        -ms-flex: 0 0 33.333333%;
        flex: 0 0 33.333333%;
        max-width: 33.333333%;
        padding: 0 5px 10px 5px; 
    }
    .text-bottom{
        margin-top: 50px;
    }
    @media (max-width:576px) {
        .block-card{
            -ms-flex: 0 0 50%;
            flex: 0 0 50%;
            max-width: 50%;
        }
    }
</style>

<div class="container container-gallery">
    <div class="grid grid--no-gutters image-bar image-bar--{{ section.settings.section_height }}">
        {% case section.blocks.size %}
            {% when 1 %}
                {%- assign column_size = '' -%}
            {% when 2 %}
                {%- assign column_size = 'medium-up--one-half' -%}
            {% when 3 %}
                {%- assign column_size = 'medium-up--one-third' -%}
            {% else %}
                {%- assign column_size = 'medium-up--one-quarter' -%}
        {% endcase %}
        <div class="row">
        {% for block in section.blocks %}
            <div class="block-card {{ column_size }} js" {{ block.shopify_attributes }}>
                {% if block.settings.link != blank %}
                    <a class="image-bar__link" href="{{ block.settings.link }}">
                        <div class="image-bar__item box ratio-container lazyload"
                            data-bgset="{% include 'bgset', image: block.settings.image %}"
                            data-sizes="auto"
                            data-parent-fit="cover"
                            style="background-position: {{ block.settings.alignment }};"
                            data-image-loading-animation>
                {% elsif block.settings.image != blank %}
                    <div class="image-bar__item image-bar__item--{{ block.id }} box ratio-container lazyload"
                        data-bgset="{% include 'bgset', image: block.settings.image %}"
                        data-sizes="auto"
                        data-parent-fit="cover"
                        style="background-position: {{ block.settings.alignment }};"
                        data-image-loading-animation>
                {% else %}
                    <div class="image-bar__item">
                {% endif %}
                <div class="image-bar__content{% if block.settings.cta_label != blank or block.settings.link != blank %} image-bar__overlay{% endif %}">
                    {% if block.settings.image == blank %}
                        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                    {% endif %}
            
                    {% if block.settings.cta_label != blank %}
                        <div class="image-bar__text">
                        <h3 class="image-bar__caption">{{ block.settings.cta_label | escape }}</h3>
                        </div>
                    {% endif %}
                </div>
                {% if block.settings.link != blank %}
                </div></a>
                {% else %}
                </div>
                {% endif %}
            </div>
            <noscript>
                <div class="block-card {{ column_size }}" {{ block.shopify_attributes }}>
                    <div class="image-bar__item image-bar__item--{{ block.id }}" style="background-image: url({{ block.settings.image | img_url: '2048x' }});"></div>
                </div>
            </noscript>
        {% endfor %}
        </div>
    </div>
    {% if section.blocks.size == 0 %}
        {% include 'no-blocks' %}
    {% endif %}
    <p class="text-bottom">Typography is the work of <strong>typesetters, compositors, typographers, graphic designers, art directors, manga artists, comic book artists, graffiti artists</strong>, and now—anyone who arranges words, letters, numbers, and symbols for publication, display, or distribution—from clerical workers and newsletter writers to anyone self-publishing materials.</p>
</div>


{% schema %}
    {
        "name": "gallery",
        "class": "section-gallery",
        "max_blocks": 6,
        "settings": [
            {
                "type": "select",
                "id": "section_height",
                "label": "Section height",
                "default": "medium",
                "options": [
                  {
                    "label": "Extra Small",
                    "value": "x-small"
                  },
                  {
                    "label": "Small",
                    "value": "small"
                  },
                  {
                    "label": "Medium",
                    "value": "medium"
                  },
                  {
                    "label": "Large",
                    "value": "large"
                  },
                  {
                    "label": "Extra Large",
                    "value": "x-large"
                  }
                ]
            }
        ],
        "blocks": [
          {
            "type": "image",
            "name": "Image",
            "settings": [
              {
                "type": "image_picker",
                "id": "image",
                "label": "Image"
              },
              {
                "type": "select",
                "id": "alignment",
                "label": "Image alignment",
                "default": "center",
                "options": [
                  {
                    "value": "top",
                    "label": "Top"
                  },
                  {
                    "value": "center",
                    "label": "Middle"
                  },
                  {
                    "value": "bottom",
                    "label": "Bottom"
                  }
                ]
              },
              {
                "type": "url",
                "id": "link",
                "label": "link",
                "info": "Optional"
              },
              {
                "type": "text",
                "id": "cta_label",
                "label": "Caption"
              }
            ]
          }
        ],
        "presets": [
          {
            "name": "Gallery",
            "category": "Image",
            "blocks": [
              {
                "type": "image"
              },
              {
                "type": "image"
              },
              {
                "type": "image"
              }
            ]
          }
        ]
    }
{% endschema %}